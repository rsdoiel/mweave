<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link href="/css/site.css" rel="stylesheet" />
</head>
<body>
<header>

</header>
<section>
<h1>mweave</h1>

<p><em>mweave</em> is a <em>literate programming</em> experiment I started by in 2012. I liked
Donald Knuth&rsquo;s ideas about <a href="https://en.wikipedia.org/wiki/Literate_programming">literate programming</a>
but didn&rsquo;t enjoy the implementations I had available. I was also looking at it from
a programming project perspective.  In this incarnation of my experiment I am looking
at <em>literate programming</em> from the perspective of a <em>writing tool</em> for creative
projects such as <a href="https://en.wikipedia.org/wiki/Interactive_fiction">interactive fiction</a>
and <a href="https://en.wikipedia.org/wiki/Electronic_literature">electronic literature</a> more
generally.</p>

<h2>mweave experiment history</h2>

<h3>mweave started 2012</h3>

<p>This project started out as an experiment to write a document generator written
for NodeJS&rsquo;s in JavaScript. While I thought of it as &ldquo;literate programming&rdquo; what
I implemented was really just an inside out document generator.  Code blocks that were
preceeded by a link were scraped and written to a file indicated by the targetted link.
I did not use the concepts of &ldquo;tangle&rdquo; and &ldquo;weave&rdquo; individually and I didn&rsquo;t
support the arbitrary ordering of code blocks or macros.</p>

<p>My bootstrap was written in Bash, it processed the README.md file using <em>vi</em>, <em>sed</em>,
to generate a <em>mw-bootstrap.js</em> and then that processed a file, <em>mw.md</em> to implement
<em>mw.js</em> and <em>npm</em> to assemble dependencies.  In the end my initial experiment failed because
I failed to use <em>mw.js</em> on a regular basis.  It wasn&rsquo;t compelling.  The version number
at npmjs.org shows 0.0.2. I&rsquo;ve sense flagged it as deprecated.</p>

<p>While it was a fun thing to write and think about I moved on to other projects
Of course cool things like <a href="https://jupyter.org/">Jupyter Notebooks</a>
happened while this experiment languished. <em>wmeave</em> is inspired in part by watching
scientists use Jupyter Notebooks in Open Science.</p>

<h3>mweave in January, 2018</h3>

<p>Today I find myself working in a Research Library and literate programming is again
calling to me.  This experiment builds on the 2012 ideas but now is implemented in Golang.
We&rsquo;ll see if this moves beyond a toy program in the coming years. RSD, 2018-01-05</p>

<h2>The experiment</h2>

<p><em>mweave</em> is a Golang package and command line program. It provides both &ldquo;tangle&rdquo; and
&ldquo;weave&rdquo; functions that are expected in literate programming tools today. An <em>mweave</em>
file is presumed to be a UTF-8 plain text file with an extension of &ldquo;.mweave&rdquo; or &ldquo;.mw&rdquo;.
Documentation is rendered to Markdown file(s) and source to the specified source code files.
It is still one command but by picking the <code>-weave</code> or <code>-tangle</code> options you can generate
both documentation (e.g. Markdown output) and source code file(s).
At it&rsquo;s core <em>mweave</em> is a pre-processor that looks for <em>mweave</em> directives. Unlike the 2012
version <em>mweave</em> directives are embedded as an HTML/XML style comments.</p>

<h3>Hello World</h3>

<p>As an example you can render a <a href="demos/helloworld.py">helloworld</a> python script from <a href="demos/helloworld.mweave">helloworld.mweave</a> using <code>-tangle</code> and render a <a href="demos/helloworld.md">helloworld</a> Markdown page by using
<code>-weave</code>. Processing that markdown using a Markdown process like <a href="https://caltechlibrary.github.io/mkpage">mkpage</a>
would give you the final <a href="demos/helloworld.html">helloworld</a> page.</p>

<p>Here is the example mweave file&ndash;</p>

<pre><code>    # Hello World!

    This is an example of an embedded document to be extracted by 
    [mweave](https://github.com/rsdoiel/mweave).
    &lt;!--mweave:source &quot;helloworld.py&quot; 0 --&gt;
    ```python
        #!/usr/bin/env python3
        print(&quot;Hello World!&quot;)
    ```
    &lt;!--mweave:end --&gt;
</code></pre>

<p>Here are the commands to render <a href="demos/helloworld.md">helloworld.md</a> and <a href="demos/helloworld.py">helloworld.py</a>
from our <a href="demos/helloworld.mweave">helloworld.mweave</a> source.</p>

<pre><code class="language-shell">    mweave -weave -i helloworld.mweave -o helloworld.md
    mweave -tangle -i hellowolrd.meave
</code></pre>

<p>Notice that tangle ignores the output file name. That is beceause the source files are set in the
mweave begin directive.</p>

<h3>How it works</h3>

<p><em>mweave</em> reads in the entire source document splitting it up based on the directives it encounters.
There are three directives - <em>mweave:source</em>, <em>mweave:macro</em> and <em>mweave:end</em>.  <em>mweave:source</em>
takes two required parameters, the filename (string) and an order value (an integer). The ordering
value is used by tangle to order blocks of texts associated with the filename. <em>mweave:macro</em>
takes two parameters one is a label string and the other is a macro (shorthand) op. The last is
<em>mweave:end</em> which takes no parameter.  Currently I have no other directives planned. I am
considering integrating <a href="https://github.com/rsdoiel/shorthand">shorthand</a> as the macro system
sometime in the future.  The <em>mweave</em> directives are expected to be the first non-space element
on the line.  They take up a whole line.</p>

<p>This 2nd <em>mweave</em> experiment is still rediculiously simple like 2012. v0.1.0 was I implemented
in less than a day so I could experiment again with literate programming. v0.1.1, integrating
a macro system was another day (though the macro engine already existed). I am trying to sort out how
simple a tool I can write and still support literate programming. My hypothis is that if the
tool is simple enough I might actually use it and find it more useful and interesting to maintain.</p>

<h3>The macro system in v0.1.1</h3>

<p><em>mweave</em> (v0.1.1) now has en experimental macro system. The macro system is
<a href="https://rsdoiel.github.io/shorthand">shorthand</a>. Shorthand provides additional
functionality like including other files, running shell processes, running Markdown
processors, evaluting other other shorthand files. The experiment will not see
if the two mweave directives plus shorthand gives us a useful platform for doing literate
development.</p>

<h2>Requirements</h2>

<ul>
<li>Golang version 1.9.2 or better</li>
</ul>

<h2>Installation</h2>

<p><em>mweave</em> is &ldquo;go get&rdquo;-able.</p>

<pre><code class="language-shell">    go get -u github.com/rsodiel/mweave/...
</code></pre>

</section>
<nav>
<ul>
<li><a href="/">HOME</a></li>
<li><a href="./">README</a></li>
<li><a href="license.html">LICENSE</a></li>
<li><a href="install.html">Install</a></li>
<li><a href="docs/">Documentation</a></li>
<li><a href="https://github.com/rsdoiel/mweave">Github</a></li>
</ul>

</nav>
<footer>
copyright (c) 2018 all rights reserved.
<a href="https://github.com/rsdoiel/opml/releases/latest">Released</a> under the <a href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>
</footer>
</body>
</html>
